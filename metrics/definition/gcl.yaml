---
apiVersion: gateway.mulesoft.com/v1alpha1
kind: Extension
metadata:
  labels:
    title: metrics
    category: Custom
spec:
  extends:
    - name: extension-definition
      namespace: default
  properties:
    metricsSink:
      type: string
      format: service
      description: The url of the service that will ingest the metrics generated by the policy.
    pushFrequency:
      type: integer
      description: The frequency with will be used to push the metrics.
    maxRetries:
      type: integer
      description: If the metrics pushing fails, the amount of retries that will be made before discarding the metrics. If left empty it will retry until success.
  required:
    - metricsSink
    - pushFrequency
